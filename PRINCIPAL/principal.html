<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loja de Telefones</title>
  <link rel="stylesheet" href="/css/principal.css">
  <link rel="stylesheet" href="/css/produtos.css">
  <link rel="stylesheet" href="/css/vendas.css">
  <link rel="stylesheet" href="/css/mais.css">
  <link rel="stylesheet" href="/css/fornecedores.css">
  <link rel ="stylesheet" href="/css/modal.css">
  <link rel ="stylesheet" href="/css/popup.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<header>
     <h1 class ="cabeçalho">Vender</h1>
</header>

<body action="/home">
  <nav class="menulateral">
    <div class="btnexpandir">
      <i class="bi bi-list" id="btnexp"></i>
    </div>

    <ul>
      <li class="itemmenu ativo">
        <a href="#" id="vender" data-section="vendas">
          <span class="icon"><i class="bi bi-cart-plus"></i></span>
          <span class="txtlink">VENDER</span>
        </a>
      </li>
      <li class="itemmenu">
        <a href="#" id="produtos" data-section="produtos">
          <span class="icon"><i class="bi bi-box-seam"></i></span>
          <span class="txtlink">PRODUTOS</span>
        </a>
      </li>
      <li class="itemmenu">
        <a href="#" id="fornecedores" data-section="fornecedores">
          <span class="icon"><i class="bi bi-shop"></i></span>
          <span class="txtlink">FORNECEDORES</span>
        </a>
      </li>
      <li class="itemmenu">
        <a href="#" id="mais" data-section="mais">
          <span class="icon"><i class="bi bi-three-dots"></i></span>
          <span class="txtlink">MAIS</span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Section com divs clicáveis -->
  <section class="menuprincipal">
    <!-- Div principal vendas -->
    <div class="cxvenda">
      <div class="containervenda">
        <!-- Seção de Produtos -->
        <section class="listaprodutosvendas" id="listaprodutosvendas">
          <!-- Os produtos serão adicionados aqui dinamicamente -->
        </section>

        <!-- Seção de Comanda -->
        <aside class="comanda">
          <h2>Comanda</h2>
          <ul id="cartitems">
            <!-- Produtos adicionados aparecerão aqui -->
          </ul>
          <p>Total R$:<span id="total">0.00</span></p>
          <button id="finalizarVenda">Finalizar Venda</button>
        </aside>
      </div>

      <!-- Div de Cadastrar Cliente -->
      <div class="classfinalizarvenda" style="display: none;">
        <h2>Finalizar Venda</h2>
    
        <div class="cadastrar-cliente">
          <h3>Selecionar ou Cadastrar Cliente</h3>
      
          <!-- Botão para abrir o pop-up -->
          <button id="abrirModalCliente" type="button">Selecionar Cliente</button>
          <input type="hidden" id="clienteSelecionado" name="clienteSelecionado">
  
          

          <button id="botaoCadastrarCliente" type="button">Cadastrar Cliente</button>

          <div class="venda-informacoes">
            <h3>Comprovante de Venda</h3>
            <p><strong>Data:</strong> <span id="dataVenda"></span></p>
            <p><strong>Cliente:</strong> <span id="clienteNomeComprovante"></span></p>
            <p><strong>CPF:</strong> <span id="clienteCpfComprovante"></span></p>
            <p><strong>Email:</strong> <span id="clienteEmailComprovante"></span></p>
            <p><strong>Telefone:</strong> <span id="clienteTelefoneComprovante"></span></p>
            <p><strong>Endereço:</strong> <span id="clienteEnderecoComprovante"></span></p>
            <h4>Itens da Venda</h4>
            <ul id="itensVenda">
                <!-- Os itens da venda serão adicionados aqui dinamicamente -->
            </ul>
            <p>Total:R$ <span id="totalFinalizar">0.00</span></p>
            
            <h4>Informações sobre Garantia</h4>
            <p>Os produtos comprados têm garantia de 3 meses a partir da data da compra.</p>
            <p>Guarde este comprovante para validação da garantia.</p>
            <p>Obrigado pela sua compra!</p>
        </div>
      </div>
      
      <!-- Pop-up (Modal) para Selecionar Cliente -->
      <div id="modalClientes" class="modal" style="display: none;">
          <div class="modal-content">
              <span id="fecharModal" class="close">&times;</span>
              <h3>Selecionar Cliente</h3>
              <label for="pesquisarCliente">Pesquisar por Nome:</label>
              <input type="text" id="pesquisarCliente" placeholder="Digite o nome do cliente">
              <ul id="listaClientes"></ul>
          </div>
      </div>
      
     <!-- Modal para Cadastrar Cliente -->
<div id="modalCadastrarCliente" class="modal" style="display: none;">
  <div class="modal-content">
      <span id="fecharModalCadastrar" class="close">&times;</span>
      <h3>Cadastrar Novo Cliente</h3>
      <form id="clienteForm">
        <label for="nomeCliente">Nome:</label>
        <input type="text" id="nomeCliente" name="nomeCliente" placeholder="Digite o nome do cliente" required>
    
        <label for="emailCliente">Email:</label>
        <input type="email" id="emailCliente" name="emailCliente" placeholder="email@exemplo.com" required>
    
        <label for="foneCliente">Telefone:</label>
        <input type="text" id="foneCliente" name="foneCliente" maxlength="15" placeholder="(99) 99999-9999" required>
    
        <label for="cepCliente">CEP:</label>
        <input type="text" id="cepCliente" name="cepCliente" placeholder="Digite o CEP do cliente" required>
    
        <label for="cpfCliente">CPF:</label>
        <input type="text" id="cpfCliente" name="cpfCliente" maxlength="14" placeholder="Digite o CPF do cliente" required>
    
        <label for="enderecoCliente">Endereço:</label>
        <input type="text" id="enderecoCliente" name="enderecoCliente" placeholder="Digite o endereço do cliente" required>

          <button type="button" id="adicionarClienteBtn">Adicionar Cliente</button>
      </form>
  </div>
</div>


  
<button id="btnConfirmarVenda">Confirmar Venda</button>

<!-- Comprovante de Venda -->
<div class="comprovante" id="comprovante" style="display:none;">
    <h2>Comprovante de Venda</h2>
    <p><strong>Valor Total:</strong> R$ <span id="valorTotalComprovante">0.00</span></p>
    <h3>Itens da Venda</h3>
    <ul id="itensVendaComprovante"></ul>
    <div class="cadastrar-cliente">
        <h3>Selecionar Cliente</h3>
        <select id="selectCliente" required>
            <option value="">Selecione um cliente</option>
            <!-- Clientes carregados do banco de dados -->
        </select>
    </div>
</div>

<!-- Pop-up de opções -->
<div id="optionsPopupOverlay" class="options-popup-overlay" style="display: none;"></div>

<!-- Pop-up -->
<div id="optionsPopup" class="options-popup">
    <div class="options-popup-content">
        <span id="closeOptionsPopup" class="close-button">&times;</span>
        <h3>Escolha uma Opção</h3>
        <button id="btnGerarPDF" class="popup-button">Gerar PDF</button>
        <button id="btnPrintPDF" class="popup-button">Imprimir PDF</button>
        <button id="btnShareWhatsApp" class="popup-button">Compartilhar no WhatsApp</button>
    </div>
</div>

  </div> 
    
  
          
      </div>
      </div>
      <!-- Fim da div de cadastrar clientes -->
    </div>
    <!-- Fim da div de vendas -->

    <div class="cxproduto">
      <div class="containerprodutos">
        <div class="barra-opcoes">
          <input type="text" id="filtroInput" placeholder="Filtrar produtos...">
          <button id="filtrarBtn">Filtrar</button>
          <button>Atualizar</button>
          <button>Excluir</button>
        </div>
    
        <section class="listaprodutos" id="listaprodutos">
          <div class="itemproduto">
          <!-- Mais produtos podem ser adicionados aqui -->
        </section>
      </div>
      <!-- Botão Cadastrar Produtos -->
      <button id="btncadastrarprodutos">Cadastrar Produtos</button>
    
      <div class="cadastrarprodutos" style="display: none;"> <!-- Inicialmente escondido -->
        <h1>Cadastrar Produto</h1>
        <!-- Enviando dados ao Node.js para serem salvos no MongoDB -->
        <form id="productform" action="/user/produtoRota/add" method="post" enctype="multipart/form-data">
          <button type="button" id="btnimportarimagem" onclick="document.getElementById('productimg').click();">
            <span style="font-size: 24px; font-weight: bold;">+</span>
            <input type="file" id="productimg" accept="image/*" name="image" style="display: none;" required>
          </button>
          <div id="imagepreview" style="display: none;"></div>
      
          <label for="productname">Nome do Produto:</label>
          <input type="text" id="productname" name="name" maxlength="20" required>
      
          <label for="productdesc">Descrição do Produto:</label>
          <input type="text" id="productdesc" name="description" maxlength="100" required>
      
          <label for="productprice">Valor do Produto:</label>
          <input type="number" id="productprice" name="price" required>
      
          <button id="btnadicionarprodutos" type="submit">Adicionar Produto</button>
          <button id="btnvoltarprodutos" type="button">Voltar</button>
        </form>
      </div>
    </div>
  </section>
</body>


<!-- fim da div de produtos -->

<!-- fim da div de produtos -->



    <!-- fim da div produtos -->


      <!-- div fornecedores -->

      <div class="cxfornecedor">
        <!-- Blocos de Fornecedores Cadastrados -->
        <div id="fornecedoresCadastrados" class="fornecedorescadastrados" action="/user/fornecedorRota/all" method = "get">
            <!-- Mais fornecedores serão carregados dinamicamente -->
            <button id="btncadastrarfornecedor">Cadastrar Novo Fornecedor</button>
        </div>
    
        <!-- Informações Básicas do Fornecedor (escondido inicialmente) -->
        <form class="cadastrofornecedor" action="/user/fornecedorRota/add" method="post" id="informacoesBasicas" style="display: none;">
          <h2>Informações Básicas</h2>
          <div class="form-group">
              <label for="nomeFornecedor">Nome do Fornecedor:</label>
              <input type="text" id="nomeFornecedor" name="nomeFornecedor" placeholder="Digite o nome do fornecedor" required>
          </div>
          <div class="form-group">
              <label for="cnpjFornecedor">CNPJ/CPF:</label>
              <input type="text" id="cnpjFornecedor" name="cnpjFornecedor" placeholder="Digite o CNPJ ou CPF" required>
          </div>
          <div class="form-group">
              <label for="enderecoFornecedor">Endereço:</label>
              <input type="text" id="enderecoFornecedor" name="enderecoFornecedor" placeholder="Digite o endereço" required>
          </div>
          <div class="form-group">
              <label for="foneFornecedor">Telefone:</label>
              <input type="text" id="foneFornecedor" name="foneFornecedor" placeholder="Digite o telefone" required>
          </div>
          <div class="form-group">
              <label for="emailFornecedor">Email:</label>
              <input type="email" id="emailFornecedor" name="emailFornecedor" placeholder="Digite o email" required>
          </div>
          <div class="form-group">
              <label for="siteFornecedor">Site:</label>
              <input type="url" id="siteFornecedor" name="siteFornecedor" placeholder="Digite o site do fornecedor" required>
          </div>
          <div>
              <button type="submit" id="btncadastrarfornecedor">Cadastrar Fornecedor</button>
              <button type="button" id="btnvoltarfornecedor">Voltar Fornecedor</button>
          </div>
      </form>
      
    
        <!-- Detalhes de Contato (escondido inicialmente) -->
        <div class="detalhesfornecedor" id="detalhesContato" style="display: none;">
            <h2>Detalhes de Contato</h2>
            <div class="form-group">
                <label for="contactName">Nome do Contato:</label>
                <input type="text" id="contactName" placeholder="Digite o nome do contato">
            </div>
            <div class="form-group">
                <label for="contactPhone">Telefone do Contato:</label>
                <input type="text" id="contactPhone" placeholder="Digite o telefone do contato">
            </div>
            <div class="form-group">
                <label for="contactEmail">Email do Contato:</label>
                <input type="email" id="contactEmail" placeholder="Digite o email do contato">
            </div>
        </div>
    
        <!-- Informações Comerciais (escondido inicialmente) -->
        <div class="informacoesfornecedor" id="informacoesComerciais" style="display: none;">
            <h2>Informações Comerciais</h2>
            <div class="form-group">
                <label for="paymentTerms">Condições de Pagamento:</label>
                <input type="text" id="paymentTerms" placeholder="Digite as condições de pagamento">
            </div>
            <div class="form-group">
                <label for="creditLimit">Limite de Crédito:</label>
                <input type="text" id="creditLimit" placeholder="Digite o limite de crédito">
            </div>
            <div class="form-group">
                <label for="supplierRating">Classificação:</label>
                <input type="text" id="supplierRating" placeholder="Digite a classificação do fornecedor">
            </div>
        </div>
    
        <!-- Outros campos, como Produtos Fornecidos, Documentação, etc. (escondidos inicialmente) -->
        <div class="fornecedor-section" id="produtosFornecidos" style="display: none;">
            <h2>Produtos Fornecidos</h2>
            <div class="form-group">
                <label for="supplierProducts">Lista de Produtos:</label>
                <textarea id="supplierProducts" rows="5" placeholder="Liste os produtos fornecidos..."></textarea>
            </div>
        </div>
    
        <div class="documentacaofornecedor" id="documentacaoCertificacoes" style="display: none;">
            <h2>Documentação e Certificações</h2>
            <div class="form-group">
                <label for="certifications">Certificações:</label>
                <input type="text" id="certifications" placeholder="Digite as certificações">
            </div>
            <div class="form-group">
                <label for="legalDocuments">Documentação Legal:</label>
                <textarea id="legalDocuments" rows="5" placeholder="Adicione a documentação legal..."></textarea>
            </div>
        </div>
    
        <!-- Botões de ação (exibidos ao cadastrar ou editar fornecedor) -->
        <div class="botoesacaofornecedor" id="acoesFornecedor" style="display: none;">
            <button class="action-button" onclick="saveSupplier()">Salvar Fornecedor</button>
            <button class="action-button" onclick="removeSupplier()">Remover Fornecedor</button>
        </div>
    </div>
    
    
<!-- fim da div Fornecedores -->



  <!-- div mais -->
  <div class="cxmais">
    <div id="maisopcoes">
      <h2>Mais Opções</h2>

      <div class="opcoesinterativas">
        <div class="opcao">
          <button id="btnconfigsistema">
            Configurações do Sistema
          </button>
        </div>

        <form id="clienteForm" action="/user/relatorio" method="post">
          <div class="opcao">
            <button id="btnrelatorios" type="submit">
              Relatórios
            </button>
          </div>
  </form>

        <div class="opcao">
          <button id="btnusuarios">
            Gerenciamento de Usuários
          </button>
        </div>

        <div class="opcao">
          <button id="btnintegracoes">
            Integrações
          </button>
        </div>

        <div class="opcao">
          <button id="btnbackup">
            Backup e Restauração
          </button>
        </div>

        <div class="opcao">
          <button id="btnhistorico">
            Histórico de Transações
          </button>
        </div>

        <div class="opcao">
          <button id="btnmanutencao">
            Manutenção e Suporte
          </button>
        </div>

        <div class="opcao">
          <button id="btnatualizacoes">
            Atualizações
          </button>
        </div>

        <div class="opcao">
          <button id="btnimportacao">
            Ferramentas de Importação/Exportação
          </button>
        </div>
      </div>

    </div>
  </div>
</section><!-- fim da section com as divs clicáveis -->


<!-- JAVA SCRIPT-->
<script src="/js/principal.js"></script>
<script src="/js/cep.js"></script>
<script src="/js/vendas.js"></script>
<script src="/js/produtos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="/js/geradorPdf.js"></script>
<script src="/js/modal.js"></script>
<script src="/js/popup.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="/js/fornecedores.js"></script>
<script src="/js/mais.js"></script>
<!-- JAVA SCRIPT-->
</body>

</html>